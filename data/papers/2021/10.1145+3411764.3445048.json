{
  "doi": "10.1145/3411764.3445048",
  "title": "NBSearch: Semantic Search and Visual Exploration of Computational Notebooks",
  "published": "2021-05-07",
  "proctitle": "CHI '21: Proceedings of the 2021 CHI Conference on Human Factors in Computing Systems",
  "pages": "1-14",
  "year": 2021,
  "badges": [],
  "abstract": "Code search is an important and frequent activity for developers using computational notebooks (e.g., Jupyter). The flexibility of notebooks brings challenges for effective code search, where classic search interfaces for traditional software code may be limited. In this paper, we propose, NBSearch, a novel system that supports semantic code search in notebook collections and interactive visual exploration of search results. NBSearch leverages advanced machine learning models to enable natural language search queries and intuitive visualizations to present complicated intra- and inter-notebook relationships in the returned results. We developed NBSearch through an iterative participatory design process with two experts from a large software company. We evaluated the models with a series of experiments and the whole system with a controlled user study. The results indicate the feasibility of our analytical pipeline and the effectiveness of NBSearch to support code search in large notebook collections.",
  "tags": [
    "document and text analysis.",
    "Semantic code search",
    "search result visualization",
    "computational notebooks"
  ],
  "authors": [
    {
      "name": "Xingjun Li",
      "institution": "University of Waterloo, Canada",
      "img": "/pb-assets/icons/DOs/default-profile-1543932446943.svg",
      "acmid": "99659701910",
      "orcid": "missing"
    },
    {
      "name": "Yuanxin Wang",
      "institution": "University of Waterloo, Canada",
      "img": "/pb-assets/icons/DOs/default-profile-1543932446943.svg",
      "acmid": "99659702109",
      "orcid": "missing"
    },
    {
      "name": "Hong Wang",
      "institution": "Computer Science Arizona State University, United States",
      "img": "/pb-assets/icons/DOs/default-profile-1543932446943.svg",
      "acmid": "99659702057",
      "orcid": "missing"
    },
    {
      "name": "Yang Wang",
      "institution": "Uber Technologies Inc., United States",
      "img": "/pb-assets/icons/DOs/default-profile-1543932446943.svg",
      "acmid": "99659702108",
      "orcid": "missing"
    },
    {
      "name": "Jian Zhao",
      "institution": "School of Computer Science University of Waterloo, Canada",
      "img": "/pb-assets/icons/DOs/default-profile-1543932446943.svg",
      "acmid": "99659701100",
      "orcid": "missing"
    }
  ],
  "references": [
    {
      "text": "F. Balmas. 2004. Displaying dependence graphs: a hierarchical approach. Journal of Software Maintenance and Evolution: Research and Practice 16, 3(2004), 151\u2013185. https://doi.org/10.1002/smr.291",
      "doi": "10.1002/smr.291"
    },
    {
      "text": "Souti Chattopadhyay, Ishita Prasad, Austin\u00a0Z. Henley, Anita Sarma, and Titus Barik. 2020. What\u2019s Wrong with Computational Notebooks? Pain Points, Needs, and Design Opportunities. In Proceedings of the 2020 CHI Conference on Human Factors in Computing Systems(CHI \u201920). 1\u201312. https://doi.org/10.1145/3313831.3376729",
      "doi": "10.1145/3313831.3376729"
    },
    {
      "text": "Junyoung Chung, \u00c7aglar G\u00fcl\u00e7ehre, KyungHyun Cho, and Yoshua Bengio. 2014. Empirical Evaluation of Gated Recurrent Neural Networks on Sequence Modeling. CoRR abs/1412.3555(2014). arxiv:1412.3555http://arxiv.org/abs/1412.3555",
      "doi": ""
    },
    {
      "text": "E. Clarkson, K. Desai, and J. Foley. 2009. ResultMaps: Visualization for Search Interfaces. IEEE Transactions on Visualization and Computer Graphics 15, 6(2009), 1057\u20131064. https://doi.org/10.1109/TVCG.2009.176",
      "doi": "10.1109/TVCG.2009.176"
    },
    {
      "text": "Google Cloud. Accessed in 2020. Evaluating models. https://cloud.google.com/translate/automl/docs/evaluate",
      "doi": ""
    },
    {
      "text": "UCSD Library\u00a0Digital Collections. Accessed in 2020. Data from: Exploration and Explanation in Computational Notebooks. https://library.ucsd.edu/dc/object/bb2733859v",
      "doi": ""
    },
    {
      "text": "Cecilia di Sciascio, Vedran Sabol, and Eduardo\u00a0E. Veas. 2016. Rank As You Go: User-Driven Exploration of Search Results. In Proceedings of the 21st International Conference on Intelligent User Interfaces(IUI \u201916). 118\u2013129. https://doi.org/10.1145/2856767.2856797",
      "doi": "10.1145/2856767.2856797"
    },
    {
      "text": "Marian D\u00f6rk, Nathalie\u00a0Henry Riche, Gonzalo Ramos, and Susan Dumais. 2012. PivotPaths: Strolling through Faceted Information Spaces. IEEE Transactions on Visualization and Computer Graphics 18, 12(2012), 2709\u20132718. https://doi.org/10.1109/TVCG.2012.252",
      "doi": "10.1109/TVCG.2012.252"
    },
    {
      "text": "Mi Feng, Cheng Deng, Evan\u00a0M. Peck, and Lane Harrison. 2018. The Effects of Adding Search Functionality to Interactive Visualizations on the Web. In Proceedings of the 2018 CHI Conference on Human Factors in Computing Systems. 1\u201313. https://doi.org/10.1145/3173574.3173711",
      "doi": "10.1145/3173574.3173711"
    },
    {
      "text": "E. Gomez-Nieto, F.\u00a0S. Roman, P. Pagliosa, W. Casaca, E.\u00a0S. Helou, M.\u00a0C.\u00a0F. de Oliveira, and L.\u00a0G. Nonato. 2014. Similarity Preserving Snippet-Based Visualization of Web Search Results. IEEE Transactions on Visualization and Computer Graphics 20, 3(2014), 457\u2013470. https://doi.org/10.1109/TVCG.2013.242",
      "doi": "10.1109/TVCG.2013.242"
    },
    {
      "text": "S. Gratzl, A. Lex, N. Gehlenborg, H. Pfister, and M. Streit. 2013. LineUp: Visual Analysis of Multi-Attribute Rankings. IEEE Transactions on Visualization and Computer Graphics 19, 12(2013), 2277\u20132286. https://doi.org/10.1109/TVCG.2013.173",
      "doi": "10.1109/TVCG.2013.173"
    },
    {
      "text": "Philip\u00a0J. Guo and Margo Seltzer. 2012. BURRITO: Wrapping Your Lab Notebook in Computational Infrastructure. In Proceedings of the 4th USENIX Conference on Theory and Practice of Provenance(TaPP\u201912). 7.",
      "doi": ""
    },
    {
      "text": "Andrew Head, Fred Hohman, Titus Barik, Steven\u00a0M. Drucker, and Robert DeLine. 2019. Managing Messes in Computational Notebooks. In Proceedings of the 2019 CHI Conference on Human Factors in Computing Systems - CHI '19. https://doi.org/10.1145/3290605.3300500",
      "doi": "10.1145/3290605.3300500"
    },
    {
      "text": "Andrew Head, Jason Jiang, James Smith, Marti\u00a0A. Hearst, and Bj\u00f6rn Hartmann. 2020. Composing Flexibly-Organized Step-by-Step Tutorials from Linked Source Code, Snippets, and Outputs. In Proceedings of the 2020 CHI Conference on Human Factors in Computing Systems. ACM. https://doi.org/10.1145/3313831.3376798",
      "doi": "10.1145/3313831.3376798"
    },
    {
      "text": "Marti\u00a0A. Hearst. 1995. TileBars: Visualization of Term Distribution Information in Full Text Information Access. In Proceedings of the SIGCHI Conference on Human Factors in Computing Systems(CHI \u201995). 59\u201366. https://doi.org/10.1145/223904.223912",
      "doi": "10.1145/223904.223912"
    },
    {
      "text": "Desmond\u00a0G. Higgins and Paul\u00a0M. Sharp. 1988. CLUSTAL: a package for performing multiple sequence alignment on a microcomputer. Gene 73, 1 (1988), 237 \u2013 244. https://doi.org/10.1016/0378-1119(88)90330-7",
      "doi": ""
    },
    {
      "text": "Sepp Hochreiter and J\u00fcrgen Schmidhuber. 1997. Long Short-Term Memory. Neural Comput. 9, 8 (1997), 1735\u20131780. https://doi.org/10.1162/neco.1997.9.8.1735",
      "doi": "10.1162/neco.1997.9.8.1735"
    },
    {
      "text": "Jane Hoffswell, Arvind Satyanarayan, and Jeffrey Heer. 2018. Augmenting Code with In Situ Visualizations to Aid Program Understanding. In Proceedings of the 2018 CHI Conference on Human Factors in Computing Systems - CHI '18. https://doi.org/10.1145/3173574.3174106",
      "doi": "10.1145/3173574.3174106"
    },
    {
      "text": "Hugging Face. Accessed in 2020. Pretrained Models. https://huggingface.co/transformers/pretrained_models.html",
      "doi": ""
    },
    {
      "text": "Sergey Ioffe and Christian Szegedy. 2015. Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift. arxiv:1502.03167\u00a0[cs.LG]",
      "doi": ""
    },
    {
      "text": "Mary\u00a0Beth Kery, Amber Horvath, and Brad Myers. 2017. Variolite: Supporting Exploratory Programming by Data Scientists. In Proceedings of the 2017 CHI Conference on Human Factors in Computing Systems(CHI \u201917). 1265\u20131276. https://doi.org/10.1145/3025453.3025626",
      "doi": "10.1145/3025453.3025626"
    },
    {
      "text": "Mary\u00a0Beth Kery, Bonnie\u00a0E. John, Patrick O\u2019Flaherty, Amber Horvath, and Brad\u00a0A. Myers. 2019. Towards Effective Foraging by Data Scientists to Find Past Analysis Choices. In Proceedings of the 2019 CHI Conference on Human Factors in Computing Systems(CHI \u201919). 1\u201313. https://doi.org/10.1145/3290605.3300322",
      "doi": "10.1145/3290605.3300322"
    },
    {
      "text": "Mary\u00a0Beth Kery, Marissa Radensky, Mahima Arya, Bonnie\u00a0E. John, and Brad\u00a0A. Myers. 2018. The Story in the Notebook: Exploratory Data Science using a Literate Programming Tool. In Proceedings of the 2018 CHI Conference on Human Factors in Computing Systems - CHI '18. https://doi.org/10.1145/3173574.3173748",
      "doi": "10.1145/3173574.3173748"
    },
    {
      "text": "Yanir Kleiman, Joel Lanir, Dov Danon, Yasmin Felberbaum, and Daniel Cohen-Or. 2015. DynamicMaps: Similarity-based Browsing Through a Massive Set of Images. In Proceedings of the 33rd Annual ACM Conference on Human Factors in Computing Systems(CHI \u201915). 995\u20131004. https://doi.org/10.1145/2702123.2702224",
      "doi": "10.1145/2702123.2702224"
    },
    {
      "text": "Ken Krugler. 2013. Krugle Code Search Architecture. Springer New York, 103\u2013120. https://doi.org/10.1007/978-1-4614-6596-6_6",
      "doi": ""
    },
    {
      "text": "Byron Y-L Kuo, Thomas Hentrich, Benjamin M\u00a0. Good, and Mark\u00a0D. Wilkinson. 2007. Tag Clouds for Summarizing Web Search Results. In Proceedings of the 16th International Conference on World Wide Web(WWW \u201907). 1203\u20131204. https://doi.org/10.1145/1242572.1242766",
      "doi": "10.1145/1242572.1242766"
    },
    {
      "text": "Quoc\u00a0V. Le and Tomas Mikolov. 2014. Distributed Representations of Sentences and Documents. arxiv:1405.4053\u00a0[cs.CL]",
      "doi": ""
    },
    {
      "text": "Ot\u00e1vio Augusto\u00a0Lazzarini Lemos, Sushil\u00a0Krishna Bajracharya, Joel Ossher, Ricardo\u00a0Santos Morla, Paulo\u00a0Cesar Masiero, Pierre Baldi, and Cristina\u00a0Videira Lopes. 2007. CodeGenie. In Proceedings of the twenty-second IEEE/ACM international conference on Automated software engineering - ASE '07. https://doi.org/10.1145/1321631.1321726",
      "doi": "10.1145/1321631.1321726"
    },
    {
      "text": "Erik Linstead, Sushil Bajracharya, Trung Ngo, Paul Rigor, Cristina Lopes, and Pierre Baldi. 2008. Sourcerer: mining and searching internet-scale software repositories. Data Mining and Knowledge Discovery 18, 2 (2008), 300\u2013336. https://doi.org/10.1007/s10618-008-0118-x",
      "doi": "10.1007/s10618-008-0118-x"
    },
    {
      "text": "Minh-Thang Luong, Hieu Pham, and Christopher\u00a0D. Manning. 2015. Effective Approaches to Attention-based Neural Machine Translation. CoRR abs/1508.04025(2015). arxiv:1508.04025http://arxiv.org/abs/1508.04025",
      "doi": ""
    },
    {
      "text": "Christopher\u00a0D. Manning, Prabhakar Raghavan, and Hinrich Sch\u00fctze. 2008. Introduction to Information Retrieval. Cambridge University Press.",
      "doi": "10.5555/1394399"
    },
    {
      "text": "Collin McMillan, Mark Grechanik, Denys Poshyvanyk, Chen Fu, and Qing Xie. 2012. Exemplar: A Source Code Search Engine for Finding Highly Relevant Applications. IEEE Transactions on Software Engineering 38, 5 (2012), 1069\u20131087. https://doi.org/10.1109/tse.2011.84",
      "doi": "10.1109/tse.2011.84"
    },
    {
      "text": "T. Nguyen and J. Zhang. 2006. A Novel Visualization Model for Web Search Results. IEEE Transactions on Visualization and Computer Graphics 12, 5(2006), 981\u2013988. https://doi.org/10.1109/TVCG.2006.111",
      "doi": "10.1109/TVCG.2006.111"
    },
    {
      "text": "Kishore Papineni, Salim Roukos, Todd Ward, and Wei-Jing Zhu. 2002. BLEU: A Method for Automatic Evaluation of Machine Translation. In Proceedings of the 40th Annual Meeting on Association for Computational Linguistics(ACL \u201902). 311\u2013318. https://doi.org/10.3115/1073083.1073135",
      "doi": "10.3115/1073083.1073135"
    },
    {
      "text": "Jaakko Peltonen, Kseniia Belorustceva, and Tuukka Ruotsalo. 2017. Topic-Relevance Map: Visualization for Improving Search Result Comprehension. In Proceedings of the 22nd International Conference on Intelligent User Interfaces(IUI \u201917). 611\u2013622. https://doi.org/10.1145/3025171.3025223",
      "doi": "10.1145/3025171.3025223"
    },
    {
      "text": "Radim \u0158eh\u016f\u0159ek and Petr Sojka. 2010. Software Framework for Topic Modelling with Large Corpora.",
      "doi": ""
    },
    {
      "text": "Nils Reimers and Iryna Gurevych. 2019. Sentence-BERT: Sentence Embeddings using Siamese BERT-Networks. Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP)(2019). https://doi.org/10.18653/v1/d19-1410",
      "doi": ""
    },
    {
      "text": "Adam Rule, Aur\u00e9lien Tabard, and James\u00a0D. Hollan. 2018. Exploration and Explanation in Computational Notebooks. In Proceedings of the 2018 CHI Conference on Human Factors in Computing Systems - CHI '18. https://doi.org/10.1145/3173574.3173606",
      "doi": "10.1145/3173574.3173606"
    },
    {
      "text": "Caitlin Sadowski, Kathryn\u00a0T. Stolee, and Sebastian Elbaum. 2015. How Developers Search for Code: A Case Study. Proceedings of the 10th Joint Meeting on Foundations of Software Engineering (2015), 191\u2013201. https://doi.org/10.1145/2786805.2786855",
      "doi": "10.1145/2786805.2786855"
    },
    {
      "text": "M. Schuster and K.\u00a0K. Paliwal. 1997. Bidirectional recurrent neural networks. IEEE Transactions on Signal Processing 45, 11 (1997), 2673\u20132681.",
      "doi": "10.1109/78.650093"
    },
    {
      "text": "Doreen Seider, Andreas Schreiber, Tobias Marquardt, and Marlene Bruggemann. 2016. Visualizing Modules and Dependencies of OSGi-Based Applications. In Proceedings of the IEEE Working Conference on Software Visualization (VISSOFT). https://doi.org/10.1109/vissoft.2016.20",
      "doi": ""
    },
    {
      "text": "Alex Sherstinsky. 2018. Fundamentals of Recurrent Neural Network (RNN) and Long Short-Term Memory (LSTM) Network. CoRR abs/1808.03314(2018). arxiv:1808.03314http://arxiv.org/abs/1808.03314",
      "doi": ""
    },
    {
      "text": "Susan\u00a0Elliott Sim, Medha Umarji, Sukanya Ratanotayanon, and Cristina\u00a0V. Lopes. 2011. How Well Do Search Engines Support Code Retrieval on the Web?ACM Trans. Softw. Eng. Methodol. 21, 1, Article 4(2011), 25\u00a0pages. https://doi.org/10.1145/2063239.2063243",
      "doi": "10.1145/2063239.2063243"
    },
    {
      "text": "SourceForge. Accessed in 2020. . https://sourceforge.net/",
      "doi": ""
    },
    {
      "text": "A. Spoerri. 2004. RankSpiral: Toward Enhancing Search Results Visualizations. In Proceedings of IEEE Symposium on Information Visualization. 18\u201318. https://doi.org/10.1109/INFVIS.2004.56",
      "doi": ""
    },
    {
      "text": "Krishna Subramanian, Johannes Maas, and Jan Borchers. 2020. TRACTUS: Understanding and Supporting Source Code Experimentation in Hypothesis-Driven Data Science. In Proceedings of the 2020 CHI Conference on Human Factors in Computing Systems. https://doi.org/10.1145/3313831.3376764",
      "doi": "10.1145/3313831.3376764"
    },
    {
      "text": "Jaime Teevan, Christine Alvarado, Mark\u00a0S. Ackerman, and David\u00a0R. Karger. 2004. The perfect search engine is not enough. In Proceedings of the 2004 conference on Human factors in computing systems - CHI '04. https://doi.org/10.1145/985692.985745",
      "doi": "10.1145/985692.985745"
    },
    {
      "text": "John Wenskovitch, Jian Zhao, Scott Carter, Matthew Cooper, and Chris North. 2019. Albireo: An Interactive Tool for Visually Summarizing Computational Notebook Structure. In Proceedings of the IEEE Symposium on Visualization in Data Science. 1\u201310. https://doi.org/10.1109/VDS48975.2019.8973385",
      "doi": ""
    },
    {
      "text": "Wikipedia contributors. Accessed in 2020. Koders \u2014 Wikipedia, The Free Encyclopedia. https://en.wikipedia.org/w/index.php?title=Koders&oldid=869578010",
      "doi": ""
    },
    {
      "text": "Max\u00a0L. Wilson, Bill Kules, m.\u00a0c. schraefel, and Ben Shneiderman. 2010. From Keyword Search to Exploration: Designing Future Search Interfaces for the Web. Foundations and Trends\u00ae in Web Science 2, 1 (2010), 1\u201397. https://doi.org/10.1561/1800000003",
      "doi": "10.1561/1800000003"
    },
    {
      "text": "Jian Zhao, Chidansh Bhatt, Matthew Cooper, and David\u00a0A. Shamma. 2018. Flexible Learning with Semantic Visual Exploration and Sequence-Based Recommendation of MOOC Videos. In Proceedings of the 2018 CHI Conference on Human Factors in Computing Systems(CHI \u201918). 1\u201313. https://doi.org/10.1145/3173574.3173903",
      "doi": "10.1145/3173574.3173903"
    },
    {
      "text": "Jian Zhao, Christopher Collins, Fanny Chevalier, and Ravin Balakrishnan. 2013. Interactive Exploration of Implicit and Explicit Relations in Faceted Datasets. IEEE Transactions on Visualization and Computer Graphics 19, 12(2013), 2080\u20132089. https://doi.org/10.1109/TVCG.2013.167",
      "doi": "10.1109/TVCG.2013.167"
    },
    {
      "text": "Jian Zhao, Michael Glueck, Fanny Chevalier, Yanhong Wu, and Azam Khan. 2016. Egocentric Analysis of Dynamic Networks with EgoLines. In Proceedings of the 2016 CHI Conference on Human Factors in Computing Systems - CHI \u201916. 5003\u20135014. https://doi.org/10.1145/2858036.2858488",
      "doi": "10.1145/2858036.2858488"
    }
  ]
}